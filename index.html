<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emoji Soup</title>
    <meta
      name="description"
      content="Hide messages inside emoji soup using a shared key. Only people with the key can decrypt ‚Äî all in your browser, no servers."
    />
    <meta property="og:title" content="Emoji Soup" />
    <meta
      property="og:description"
      content="Encrypt a message to emoji soup with a key. Share the soup. Decrypt with the same key. No servers, just vibes."
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>Emoji Soup</h1>
      <div class="sub">
        Hide a message inside emoji soup using a shared key. No servers. All in
        your browser.
      </div>
    </header>
    <main>
      <div class="grid">
        <section class="card" aria-labelledby="enc-title">
          <h2 id="enc-title">üîê Encrypt ‚Üí Emoji Soup</h2>
          <label for="enc-msg">Message</label>
          <textarea
            id="enc-msg"
            placeholder="Type your secret message here‚Ä¶"
          ></textarea>
          <div class="row">
            <div style="flex: 1">
              <label for="enc-key">Key / Password</label>
              <input
                id="enc-key"
                type="password"
                placeholder="Pick a key only your friend knows"
              />
            </div>
            <div style="min-width: 120px">
              <label>&nbsp;</label>
              <button id="btn-encrypt" class="accent">Encrypt</button>
            </div>
          </div>
          <div class="sep"></div>
          <label>Emoji Soup (share this)</label>
          <div id="enc-out" class="out" aria-live="polite"></div>
          <div class="row tight">
            <button id="copy-soup">Copy Soup</button>
            <button id="share-soup">Share Soup</button>
            <button id="link-soup">Copy Link</button>
            <span class="muted"
              >Format: space-separated emojis for reliable copy/paste.</span
            >
          </div>
          <div class="hint muted">
            Tip: Only someone with the <b>same key</b> can decrypt the soup.
          </div>
        </section>

        <section class="card" aria-labelledby="dec-title">
          <h2 id="dec-title">üß© Decrypt ‚Üê Emoji Soup</h2>
          <label for="dec-soup">Emoji Soup</label>
          <textarea
            id="dec-soup"
            placeholder="Paste the emoji soup here (with spaces)"
          ></textarea>
          <div class="row">
            <div style="flex: 1">
              <label for="dec-key">Key / Password</label>
              <input
                id="dec-key"
                type="password"
                placeholder="Enter the shared key"
              />
            </div>
            <div style="min-width: 120px">
              <label>&nbsp;</label>
              <button id="btn-decrypt" class="accent">Decrypt</button>
            </div>
          </div>
          <div class="sep"></div>
          <label>Plain Text</label>
          <div id="dec-out" class="out" aria-live="polite"></div>
          <div class="wrapchips tight">
            <span class="pill">AES‚ÄëGCM 256‚Äëbit</span>
            <span class="pill">PBKDF2‚ÄëSHA256</span>
            <span class="pill">Salt + IV included</span>
            <span class="pill">All client‚Äëside</span>
          </div>
          <div class="hint muted">
            Note: Fun toy for friends ‚Äî not audited security. Don‚Äôt use for real
            secrets.
          </div>
        </section>
      </div>
      <div class="sep" style="margin: 26px 0"></div>
      <section class="card">
        <h2>How it works (short version)</h2>
        <p class="muted">
          Your password derives a key (PBKDF2 with salt). We encrypt your text
          with AES‚ÄëGCM (random IV). We bundle version + salt + IV + ciphertext,
          encode to Base64, then map each Base64 character to an emoji. To
          decrypt, we reverse the mapping and use the same password.
        </p>
        <p class="muted">
          Because everything happens in your browser, we never see your message
          or key.
        </p>
      </section>
    </main>

    <footer>Made for laughs ‚Äî share responsibly. ü•≥</footer>

    <script src="script.js"></script>
  </body>
</html>
